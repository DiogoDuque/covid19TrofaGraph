(this["webpackJsonpcovid19-trofa-graph"]=this["webpackJsonpcovid19-trofa-graph"]||[]).push([[0],{184:function(t,n){},186:function(t,n){},210:function(t,n,e){"use strict";e.r(n);var o=e(0),a=e.n(o),r=e(73),i=e.n(r),c=(e(88),e(50)),u=e(223),s=e(225),d=e(226),h=e(28),l=e(6),f=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Object(h.a)(this,t),this._confirmedPt=void 0,this._confirmedNorth=void 0,this._confirmedPt=n,this._confirmedNorth=e}return Object(l.a)(t,[{key:"confirmedPt",get:function(){return this._confirmedPt}},{key:"confirmedNorth",get:function(){return this._confirmedNorth}}]),t}(),m=e(19),p=e(77);var g=function(){function t(n,e){Object(h.a)(this,t),this._dateStr=void 0,this._date=void 0,this._count=void 0,this._dateStr=n,this._date=function(t){var n=t.split("-");return new Date(parseInt(n[2]),parseInt(n[1])-1,parseInt(n[0]))}(n),this._count=parseInt(e),isNaN(this._count)&&(this._count=0)}return Object(l.a)(t,[{key:"dateStr",get:function(){return this._dateStr}},{key:"date",get:function(){return this._date}},{key:"count",get:function(){return this._count}}]),t}(),v=e(79);function b(t,n){var e=t.length;return e<=n?t:t.slice(e-n)}function w(t,n,e){return{datasets:[Object(v.a)({label:n,fill:!0,lineTension:.1,pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,data:t.map((function(t){return t.count}))},e)],labels:t.map((function(t){return t.dateStr}))}}function _(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:t,suggestedMin:n}}]}}}var C=function(t){var n=t.data,e=t.datapointsCount,o=t.label,r=t.theme,i=b(n,e),c=Math.min.apply(Math,Object(m.a)(i.map((function(t){return t.count})))),u=Math.max.apply(Math,Object(m.a)(i.map((function(t){return t.count})))),s=Math.round(c-(u-c)/10);return a.a.createElement(p.a,{data:w(i,o,r),options:_(!1,s)})},O={backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,1)",pointBorderColor:"rgba(75,192,192,1)",pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)"},k=e(29),j=e(48),x=e.n(j);function y(t){var n="https://cors-anywhere.herokuapp.com/https://github.com/dssg-pt/covid19pt-data/raw/master/"+t,e=new Headers({"Content-Type":"application/x-www-form-urlencoded",Origin:"https://github.com",Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8"});return console.log("Fetching "+t),fetch(n,{method:"GET",headers:e})}function E(t,n){y("data_concelhos.csv").then((function(t){if(t&&200===t.status)return t.text()})).then((function(e){var o=[],a=new k.Readable;a.push(e),a.push(null),a.pipe(x()()).on("data",(function(n){return o.push(new g(n.data,n[t]))})).on("end",(function(){return n(o)}))})).catch((function(t){return console.error(t)}))}function N(t){y("data.csv").then((function(t){if(t&&200===t.status)return t.text()})).then((function(n){var e=[],o=[],a=new k.Readable;a.push(n),a.push(null),a.pipe(x()()).on("data",(function(t){e.push(new g(t.data,t.confirmados_arsnorte)),o.push(new g(t.data,t.confirmados))})).on("end",(function(){return t(new f(o,e))}))})).catch((function(t){return console.error(t)}))}var B=Object(u.a)((function(t){return{root:{flexGrow:1,marginLeft:10,marginRight:30},chartContainer:{position:"relative",margin:"auto",height:"50vh",width:"90vw"}}})),S=function(){var t=B();function n(n){return a.a.createElement(s.a,{item:!0,xs:12},a.a.createElement("div",{className:t.chartContainer},n))}var e=Object(o.useState)([]),r=Object(c.a)(e,2),i=r[0],u=r[1],h=Object(o.useState)(new f),l=Object(c.a)(h,2),m=l[0],p=l[1];return Object(o.useEffect)((function(){E("TROFA",u),N(p)}),[]),a.a.createElement("div",{className:t.root},a.a.createElement(d.a,{variant:"h3",style:{textAlign:"center"},gutterBottom:!0},"Casos confirmados"),a.a.createElement(s.a,{container:!0,spacing:3},n(a.a.createElement(C,{data:i,datapointsCount:30,label:"Casos confirmados na Trofa",theme:O})),n(a.a.createElement(C,{data:m.confirmedNorth,datapointsCount:30,label:"Casos confirmados no Norte",theme:O})),n(a.a.createElement(C,{data:m.confirmedPt,datapointsCount:30,label:"Casos confirmados em Portugal",theme:O}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},83:function(t,n,e){t.exports=e(210)},88:function(t,n,e){}},[[83,1,2]]]);
//# sourceMappingURL=main.6e68c4ee.chunk.js.map