(this["webpackJsonpcovid19-trofa-graph"]=this["webpackJsonpcovid19-trofa-graph"]||[]).push([[0],{147:function(t,e,n){},150:function(t,e){},152:function(t,e){},279:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n(13),o=n.n(r),i=(n(147),n(12)),c=n(335),s=n(334),u=n(15),_=n(39),l=n(43),d=n(17),f=n(18),g=n(14),b=10562178,h=3689682,j=2327755,O=2821876,m=757302,E=451006;function v(t){return function(e){return t.map((function(t){return t.buildNewWith(t.x,e)}))}}function D(t,e){var n=t.startDate;return e.filter((function(t){return t.date>=n}))}function p(t){for(var e=t[0],n=[e.buildNewWith(e.x,0)],a=1;a<t.length;a++){var r=t[a];n.push(e.buildNewWith(r.x,r.y-e.y)),e=r}return n}function A(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7;return t.map((function(n,a){var r=Math.max(0,a-e),o=Math.min(t.length,a+e),i=t.slice(r,o),c=i.reduce((function(t,e){return t+e.y}),0);return n.buildNewWith(n.x,Math.round(c/i.length))}))}function C(t,e){return t.map((function(t){var n=Math.round(1e5*t.y/e);return t.buildNewWith(t.x,n)}))}function N(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.map((function(e,n){return n<13?e:e.buildNewWith(e.x,t.slice(n-13,n+1).reduce((function(t,e){return t+e.y}),0))})).filter((function(t,e){return e>=13})).filter((function(t){return e.includes(t.x)}))}function I(t,e){return function(t,e,n){if(t.length!==e.length||t[0].x!==e[0].x)return console.error("The two Entry[] don't seem mergeable!\n".concat(t,"\n").concat(e)),[];for(var a=[],r=0;r<t.length;r++)a.push(n(t[r],e[r]));return a}(t,e,(function(t,e){return t.buildNewWith(t.x,t.y+e.y)}))}var x={CONFIRMED_0_9:"confirmados_0_9",CONFIRMED_10_19:"confirmados_10_19",CONFIRMED_20_29:"confirmados_20_29",CONFIRMED_30_39:"confirmados_30_39",CONFIRMED_40_49:"confirmados_40_49",CONFIRMED_50_59:"confirmados_50_59",CONFIRMED_60_69:"confirmados_60_69",CONFIRMED_70_79:"confirmados_70_79",CONFIRMED_80_PLUS:"confirmados_80_plus"},R={DEAD_0_9:"obitos_0_9",DEAD_10_19:"obitos_10_19",DEAD_20_29:"obitos_20_29",DEAD_30_39:"obitos_30_39",DEAD_40_49:"obitos_40_49",DEAD_50_59:"obitos_50_59",DEAD_60_69:"obitos_60_69",DEAD_70_79:"obitos_70_79",DEAD_80_PLUS:"obitos_80_plus"},M=Object(g.a)(Object(g.a)(Object(g.a)(Object(g.a)(Object(g.a)({CONFIRMED_PT:"confirmados",CONFIRMED_NORTH:"confirmados_arsnorte",CONFIRMED_CENTER:"confirmados_arscentro",CONFIRMED_LISBOA_TEJO:"confirmados_arslvt",CONFIRMED_ALENTEJO:"confirmados_arsalentejo",CONFIRMED_ALGARVE:"confirmados_arsalgarve",NEWCASES_PT:"confirmados_novos",ACTIVE_PT:"ativos",HOSPITALIZED:"internados",HOSPITALIZED_NURSERY:"internados_enfermaria",HOSPITALIZED_ICU:"internados_uci",DEAD_PT:"obitos"},{CONFIRMED_0_9_F:"confirmados_0_9_f",CONFIRMED_0_9_M:"confirmados_0_9_m",CONFIRMED_10_19_F:"confirmados_10_19_f",CONFIRMED_10_19_M:"confirmados_10_19_m",CONFIRMED_20_29_F:"confirmados_20_29_f",CONFIRMED_20_29_M:"confirmados_20_29_m",CONFIRMED_30_39_F:"confirmados_30_39_f",CONFIRMED_30_39_M:"confirmados_30_39_m",CONFIRMED_40_49_F:"confirmados_40_49_f",CONFIRMED_40_49_M:"confirmados_40_49_m",CONFIRMED_50_59_F:"confirmados_50_59_f",CONFIRMED_50_59_M:"confirmados_50_59_m",CONFIRMED_60_69_F:"confirmados_60_69_f",CONFIRMED_60_69_M:"confirmados_60_69_m",CONFIRMED_70_79_F:"confirmados_70_79_f",CONFIRMED_70_79_M:"confirmados_70_79_m",CONFIRMED_80_PLUS_F:"confirmados_80_plus_f",CONFIRMED_80_PLUS_M:"confirmados_80_plus_m"}),{DEAD_0_9_F:"obitos_0_9_f",DEAD_0_9_M:"obitos_0_9_m",DEAD_10_19_F:"obitos_10_19_f",DEAD_10_19_M:"obitos_10_19_m",DEAD_20_29_F:"obitos_20_29_f",DEAD_20_29_M:"obitos_20_29_m",DEAD_30_39_F:"obitos_30_39_f",DEAD_30_39_M:"obitos_30_39_m",DEAD_40_49_F:"obitos_40_49_f",DEAD_40_49_M:"obitos_40_49_m",DEAD_50_59_F:"obitos_50_59_f",DEAD_50_59_M:"obitos_50_59_m",DEAD_60_69_F:"obitos_60_69_f",DEAD_60_69_M:"obitos_60_69_m",DEAD_70_79_F:"obitos_70_79_f",DEAD_70_79_M:"obitos_70_79_m",DEAD_80_PLUS_F:"obitos_80_plus_f",DEAD_80_PLUS_M:"obitos_80_plus_m"}),x),R),{},{INCIDENCE_PT:"incidencia_pt",TRANSMISSIBILITY_PT:"rt_nacional",TRANSMISSIBILITY_PT_CONTINENT:"rt_continente",TOWN_INCIDENCE_14:"incidencia",TOWN_CONFIRMED_14:"confirmados_14",TOWN:"concelho",REGION:"ars",VACCINE_DOSE_1:"doses1",VACCINE_DOSE_2:"doses2"});var y=function(){function t(e){Object(d.a)(this,t),this._name=void 0,this._name=e}return Object(f.a)(t,[{key:"getAll",value:function(t){return console.warn("The EntriesAggregator '".concat(this._name,"' was not properly instantiated and is trying to call getAll!")),[]}},{key:"getLast",value:function(t){return console.warn("The EntriesAggregator '".concat(this._name,"' was not properly instantiated and is trying to call getLastEntry!")),null}}]),t}(),T=function(t){Object(_.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(d.a)(this,n),(a=e.call(this,t.name))._aggregationMap=void 0,a._aggregationMap=t._aggregator,a}return Object(f.a)(n,[{key:"getAll",value:function(t){return this._aggregationMap[t]||[]}},{key:"getLast",value:function(t){var e=this._aggregationMap[t];return e[e.length-1]}}]),n}(y),S=function(){function t(e){Object(d.a)(this,t),this._name=void 0,this._aggregator=void 0,this._name=e,this._aggregator={}}return Object(f.a)(t,[{key:"name",get:function(){return this._name}},{key:"addEntry",value:function(t,e){var n=this._aggregator[t]||[];return this._aggregator[t]=[].concat(Object(u.a)(n),[e]),this}},{key:"addEntries",value:function(t,e){var n=this._aggregator[t]||[];return this._aggregator[t]=[].concat(Object(u.a)(n),Object(u.a)(e)),this}},{key:"build",value:function(){return new T(this)}}]),t}(),F=function(t){Object(_.a)(n,t);var e=Object(l.a)(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return Object(f.a)(n,[{key:"addByAgeGroup",value:function(t){var e=this;Object.entries(t).forEach((function(t){var n=Object(i.a)(t,2)[1],a=e._aggregator["".concat(n,"_m")],r=e._aggregator["".concat(n,"_f")];e.addEntries(n,I(a,r))}))}},{key:"preProcess",value:function(){this.addByAgeGroup(R),this.addByAgeGroup(x);var t=C(this._aggregator[M.NEWCASES_PT],b);this.addEntries(M.INCIDENCE_PT,t)}},{key:"build",value:function(){return this.preProcess(),new T(this)}}]),n}(S),w=n(96),P=n(123),k=n.n(P);var L=function(t){Object(_.a)(n,t);var e=Object(l.a)(n);function n(t,a){var r;return Object(d.a)(this,n),(r=e.call(this,t,"number"===typeof a?a:parseFloat(a)))._date=void 0,isNaN(r._y)&&(r._y=0),r._date=function(t){var e=t.split("-");return new Date(Number(e[2]),Number(e[1])-1,Number(e[0]))}(t),r}return Object(f.a)(n,[{key:"dateStr",get:function(){return this._x}},{key:"date",get:function(){return this._date}},{key:"count",get:function(){return this._y}},{key:"buildNewWith",value:function(t,e){return new n(t,e)}}]),n}(function(){function t(e,n){Object(d.a)(this,t),this._x=void 0,this._y=void 0,this._x=e,this._y=n}return Object(f.a)(t,[{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"buildNewWith",value:function(t,e){throw new Error("Method buildNewWith() is not implemented!")}}]),t}());function W(t,e){Object.values(M).filter((function(t){return e[t]})).forEach((function(n){return t.addEntry(n,new L(e.data,e[n]))}))}function B(t,e,n){(function(t){var e="https://raw.githubusercontent.com/dssg-pt/covid19pt-data/master/"+t,n=new Headers({Accept:"application/vnd.github.v3+json"});return console.log("[getDataFromSource] Fetching "+t),fetch(e,{method:"GET",headers:n})})(t.name).then((function(t){if(t&&200===t.status)return t.text()})).then((function(a){var r=new w.Readable;r.push(a),r.push(null),r.pipe(k()()).on("data",(function(e){return n(t,e)})).on("end",(function(){console.log("[getDataFromSource] Parsed "+t.name),e(t.build())}))})).catch((function(t){return console.error(t)}))}var H=n(317),U=n(321),V=n(280),G=n(4),z=function(t){var e=t.children;return Object(G.jsx)(H.a,{children:Object(G.jsx)(U.a,{children:Object(G.jsx)(V.a,{variant:"body2",component:"p",children:e})})})},J=n(322),Y=n(323),Z=n(324),q=n(341),$=n(336),K=n(343),Q=n(338),X=n(328),tt=n(340),et=n(329),nt=n(330),at=n(344),rt=n(331),ot=n(332),it=n(81),ct=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;Object(d.a)(this,t),this._startDate=void 0,this._endDate=void 0,this._startDate=e,this._endDate=n}return Object(f.a)(t,[{key:"startDate",get:function(){return this._startDate}},{key:"endDate",get:function(){return this._endDate}},{key:"range",get:function(){return(this.endDate.getTime()-this.startDate.getTime())/864e5}}],[{key:"fromRelativeRange",value:function(t){var e=new Date,n=new Date;return n.setTime(n.getTime()-24*t*60*60*1e3),new this(n,e)}}]),t}(),st=new it.a({portugalEntries:new y("DUMMY-PT"),townEntries:{},townRegionMap:{},vaccineEntries:new y("DUMMY-VAC"),dateRange:ct.fromRelativeRange(60)}),ut=new it.a({styles:{},tab:0,currentTown:"TROFA"}),_t=function(){var t=Object(a.useState)(!1),e=Object(i.a)(t,2),n=e[0],r=e[1],o=Object(a.useState)(0),c=Object(i.a)(o,2),s=c[0],u=c[1],_=Object(a.useState)(0),l=Object(i.a)(_,2),d=l[0],f=l[1],g=ut.useState((function(t){return t.styles})),b=function(t){var e=parseInt(t);return!isNaN(t)&&Number.isInteger(e)&e>0},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;b(t)?(u(t),st.update((function(e){e.dateRange=ct.fromRelativeRange(parseInt(t))}))):u(),r(!1)},j=b(d);return Object(G.jsxs)(J.a,{position:"sticky",className:g.appBar,children:[Object(G.jsxs)(Y.a,{children:[Object(G.jsxs)(Z.a,{className:g.formControl,children:[Object(G.jsx)(q.a,{id:"time-selector",children:"Tempo"}),Object(G.jsxs)($.a,{labelId:"time-selector",id:"time-select",value:st.useState((function(t){return t.dateRange})).range,onChange:function(t){var e=t.target.value;"Outro"===t.nativeEvent.target.innerText?r(!0):(st.update((function(t){t.dateRange=ct.fromRelativeRange(e)})),u())},children:[Object(G.jsx)(K.a,{value:30,children:"30 dias"}),Object(G.jsx)(K.a,{value:60,children:"60 dias"}),Object(G.jsx)(K.a,{value:90,children:"90 dias"}),Object(G.jsx)(K.a,{value:999999,children:"Desde sempre"}),Object(G.jsx)(K.a,{value:s,children:"Outro"})]})]}),Object(G.jsxs)(Q.a,{value:ut.useState((function(t){return t.tab})),onChange:function(t,e){return ut.update((function(t){t.tab=e}))},indicatorColor:"primary",textColor:"primary","aria-label":"my tabs",variant:"scrollable",scrollButtons:"auto",children:[Object(G.jsx)(X.a,{label:"Gr\xe1ficos Gerais"}),Object(G.jsx)(X.a,{label:"Gr\xe1ficos Detalhados"}),Object(G.jsx)(X.a,{label:"Infos"})]})]}),Object(G.jsxs)(tt.a,{open:n,onClose:h,"aria-labelledby":"time-dialog-title",children:[Object(G.jsx)(et.a,{id:"form-dialog-title",children:"Define um valor de tempo"}),Object(G.jsx)(nt.a,{children:Object(G.jsx)(at.a,{error:!j,autoFocus:!0,margin:"dense",id:"time-value",label:"Tempo (n\xfamero inteiro)",type:"numeric",fullWidth:!0,onChange:function(t){return f(t.target.value)}})}),Object(G.jsxs)(rt.a,{children:[Object(G.jsx)(ot.a,{onClick:function(){return h(s)},color:"primary",children:"Cancelar"}),Object(G.jsx)(ot.a,{onClick:function(){return h(d)},color:"primary",disabled:!j,children:"Definir"})]})]})]})},lt=function(){return Object(G.jsx)(H.a,{children:Object(G.jsx)(U.a,{children:Object(G.jsxs)(V.a,{variant:"body2",component:"p",children:["Os dados aqui apresentados s\xe3o extra\xeddos do reposit\xf3rio ",Object(G.jsx)("a",{href:"https://github.com/dssg-pt/covid19pt-data",children:"dssg-pt/covid19pt-data"}),".",Object(G.jsx)("br",{}),"O c\xf3digo para este dashboard pode ser consultado ",Object(G.jsx)("a",{href:"https://github.com/DiogoDuque/covid19TrofaGraph",children:"aqui"}),".",Object(G.jsx)("br",{})]})})})},dt=n(333);function ft(t){var e=window.screen.availWidth,n=12*(t.length/e);return Math.max(4-n,1)}var gt=function(t,e,n){return{datasets:[Object(g.a)({label:e,categoryPercentage:1,barPercentage:.95,lineTension:.1,borderWidth:2,pointBackgroundColor:"#fff",pointHoverBorderColor:"rgba(220,220,220,1)",pointBorderWidth:1,pointHoverRadius:5,pointRadius:ft(t),data:t.map((function(t){return t.y}))},n)],labels:t.map((function(t){return t.x}))}},bt=function(t,e,n){return{datasets:Array.from(Array(t.length).keys()).map((function(a){return Object(g.a)({label:e[a],categoryPercentage:1,barPercentage:.95,lineTension:.1,borderWidth:2,pointBackgroundColor:"#fff",pointHoverBorderColor:"rgba(220,220,220,1)",pointBorderWidth:1,pointHoverRadius:5,pointRadius:ft(t[a]),data:t[a].map((function(t){return t.y}))},n[a])})),labels:t[0].map((function(t){return t.x}))}},ht=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:t,suggestedMin:e,suggestedMax:n}}]}}},jt=0,Ot=function(t){return Object(G.jsx)(dt.a,{item:!0,xs:6,md:3,children:t},jt++)},mt=function(t,e){return Object(G.jsx)(dt.a,{item:!0,xs:12,children:Object(G.jsx)("div",{className:e.chartContainer,children:t})},jt++)},Et=function(t,e){for(var n=arguments.length,a=new Array(n>2?n-2:0),r=2;r<n;r++)a[r-2]=arguments[r];return Object(G.jsxs)("div",{children:[Object(G.jsx)(V.a,{variant:"h3",style:{textAlign:"center"},gutterBottom:!0,children:t}),Object(G.jsx)(dt.a,{container:!0,spacing:3,children:a.map((function(t){return mt(t,e)}))})]})},vt=function(t){var e=t.title,n=t.entry;return Object(G.jsx)(H.a,{elevation:4,children:Object(G.jsxs)(U.a,{children:[Object(G.jsx)(V.a,{style:{fontSize:15,fontWeight:"bold"},color:"textSecondary",gutterBottom:!0,children:e}),Object(G.jsx)(V.a,{variant:"h5",component:"h2",children:n.count}),Object(G.jsx)(V.a,{style:{fontSize:11},color:"textSecondary",children:"\xdaltima atualiza\xe7\xe3o: ".concat(n.dateStr)})]})})},Dt=function(){var t=st.useState((function(t){return t.portugalEntries})),e=ut.useState((function(t){return t.currentTown})),n=st.useState((function(t){return t.townEntries[e]})),a=e[0]+e.slice(1).toLowerCase();return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Object(G.jsx)(dt.a,{container:!0,spacing:1,direction:"row",alignItems:"center",justify:"center",children:e.map((function(t){return Ot(t)}))})}(Object(G.jsx)(vt,{title:"Casos ativos em Portugal",entry:t.getLast(M.ACTIVE_PT)}),Object(G.jsx)(vt,{title:"Casos novos em Portugal",entry:t.getLast(M.NEWCASES_PT)}),Object(G.jsx)(vt,{title:"Incid\xeancia na ".concat(a),entry:n.getLast(M.TOWN_INCIDENCE_14)}),Object(G.jsx)(vt,{title:"Casos novos (14d) na ".concat(a),entry:n.getLast(M.TOWN_CONFIRMED_14)}))},pt=n(65),At=function(t){var e=t.data,n=t.dateRange,a=t.label,r=t.theme,o=t.zeroBased,i=D(n,e),c=Math.min.apply(Math,Object(u.a)(i.map((function(t){return t.count})))),s=Math.max.apply(Math,Object(u.a)(i.map((function(t){return t.count})))),_=Math.max((s-c)/20,2),l=Math.round(s+_),d=Math.round(c-_);return o&&(d=Math.max(d,0)),Object(G.jsx)(pt.Line,{data:gt(i,a,r),options:ht(o,d,l)})};At.defaultProps={zeroBased:!0};var Ct=At,Nt=function(t){var e=t.dataArray,n=t.dateRange,a=t.labels,r=t.themes,o=t.zeroBased,i=e.map((function(t){return D(n,t)})),c=i.flatMap((function(t){return t.map((function(t){return t.count}))})),s=Math.min.apply(Math,Object(u.a)(c)),_=Math.max.apply(Math,Object(u.a)(c)),l=(_-s)/15,d=_+l,f=s-l;return o&&(f=Math.max(f,0)),e.length!==a.length||a.length!==r.length?(console.error("Chart arguments cardinality did not match!"),Object(G.jsx)(pt.Line,{options:ht(!1,f,d)})):Object(G.jsx)(pt.Line,{data:bt(i,a,r),options:ht(o,f,d)})};Nt.defaultProps={zeroBased:!0,dateRange:0};var It=Nt;function xt(t,e,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o="".concat(t,",").concat(e,",").concat(n);return Object(g.a)({backgroundColor:a?"rgba(".concat(o,",0.4)"):"rgba(0,0,0,0)",borderColor:"rgba(".concat(o,",1)"),pointBorderColor:"rgba(".concat(o,",1)"),pointHoverBackgroundColor:"rgba(".concat(o,",1)")},r)}var Rt={pointRadius:0,pointHitRadius:0,borderDash:[8]},Mt=(xt(75,192,192),xt(75,192,192,!1)),yt=xt(192,75,192),Tt=xt(192,75,192,!1),St=xt(217,128,217),Ft=xt(217,128,217,!1),wt=xt(140,83,140),Pt=xt(140,83,140,!1),kt=xt(192,192,75),Lt=xt(192,192,75,!1),Wt=(xt(217,217,128),xt(217,217,128,!1),xt(140,140,83),xt(140,140,83,!1)),Bt=xt(0,80,255),Ht=xt(0,80,255,!1),Ut=xt(0,80,255,!1,Rt),Vt=(xt(50,100,255),xt(50,100,255,!1)),Gt=(xt(0,50,180),xt(0,50,180,!1),xt(0,255,80),xt(0,255,80,!1)),zt=xt(0,255,80,!1,Rt),Jt=xt(255,80,30),Yt=xt(255,80,30,!1),Zt=xt(200,200,200,!1,Rt),qt=xt(20,20,20),$t=xt(255,189,0,!1,Rt),Kt=(xt(255,84,0,!1,Rt),xt(158,0,89,!1,Rt),function(t){return t.buildNewWith(t.x,parseFloat(Number(100*t.y/b).toFixed(2)))}),Qt=function(){var t=ut.useState((function(t){return t.styles})),e=st.useState((function(t){return t.portugalEntries})),n=st.useState((function(t){return t.vaccineEntries})),a=st.useState((function(t){return t.dateRange})),r=n.getAll(M.VACCINE_DOSE_1).map(Kt),o=n.getAll(M.VACCINE_DOSE_2).map(Kt);return Et("Casos ativos",t,Object(G.jsx)(Ct,{data:e.getAll(M.ACTIVE_PT),dateRange:a,label:"Casos ativos em Portugal",theme:yt}),Object(G.jsx)(It,{dataArray:[e.getAll(M.HOSPITALIZED_NURSERY),e.getAll(M.HOSPITALIZED_ICU)],dateRange:a,labels:["Internados em Enfermaria em Portugal","Internados em UCI em Portugal"],themes:[St,wt]}),Object(G.jsx)(It,{dataArray:[r,o],dateRange:a,labels:["% de vacinados com 1 dose","% de vacinados com 2 doses"],themes:[St,wt],zeroBased:!1}))},Xt=function(){var t=ut.useState((function(t){return t.styles})),e=st.useState((function(t){return t.portugalEntries})),n=st.useState((function(t){return t.dateRange})),a=p(e.getAll(M.DEAD_PT)),r=v(e.getAll(M.INCIDENCE_PT));return Et("Evolu\xe7\xe3o em Portugal",t,Object(G.jsx)(It,{dataArray:[e.getAll(M.NEWCASES_PT),A(e.getAll(M.NEWCASES_PT))],dateRange:n,labels:["Casos novos em Portugal","Tend\xeancia"],themes:[Jt,Zt]}),Object(G.jsx)(It,{dataArray:[e.getAll(M.INCIDENCE_PT),A(e.getAll(M.INCIDENCE_PT))],dateRange:n,labels:["Incid\xeancia em Portugal (p/ 100k hab.)","Tend\xeancia"],themes:[Bt,Zt]}),Object(G.jsx)(It,{dataArray:[e.getAll(M.TRANSMISSIBILITY_PT_CONTINENT),r(1)],dateRange:n,labels:["R(t) em Portugal Continental","R(t)=1"],themes:[Vt,$t],zeroBased:!1}),Object(G.jsx)(It,{dataArray:[a,A(a)],dateRange:n,labels:["Mortes em Portugal","Tend\xeancia"],themes:[qt,Zt]}))},te=function(){var t=ut.useState((function(t){return t.styles})),e=st.useState((function(t){return t.portugalEntries})),n=st.useState((function(t){return t.dateRange})),a=p(e.getAll(M.CONFIRMED_NORTH)),r=p(e.getAll(M.CONFIRMED_CENTER)),o=p(e.getAll(M.CONFIRMED_LISBOA_TEJO)),i=p(e.getAll(M.CONFIRMED_ALENTEJO)),c=p(e.getAll(M.CONFIRMED_ALGARVE)),s=C(a,h),u=C(r,j),_=C(o,O),l=C(i,m),d=C(c,E);return Et("Evolu\xe7\xe3o regional",t,Object(G.jsx)(It,{dataArray:[a,r,o,i,c],dateRange:n,labels:["Casos novos no Norte","Casos novos no Centro","Casos novos em Lisboa/V.Tejo","Casos novos no Alentejo","Casos novos no Algarve"],themes:[Lt,Tt,Mt,Ht,Gt]}),Object(G.jsx)(It,{dataArray:[s,u,_,l,d],dateRange:n,labels:["Incid\xeancia no Norte (a 1 dia p/ 100k hab.)","Incid\xeancia no Centro (a 1 dia p/ 100k hab.)","Incid\xeancia em Lisboa/V.Tejo (a 1 dia p/ 100k hab.)","Incid\xeancia no Alentejo (a 1 dia p/ 100k hab.)","Incid\xeancia no Algarve (a 1 dia p/ 100k hab.)"],themes:[Lt,Tt,Mt,Ht,Gt]}))},ee=n(337),ne=function(){var t=ut.useState((function(t){return t.styles})),e=ut.useState((function(t){return t.currentTown})),n=st.useState((function(t){return t.townRegionMap[e]}))||"",a=st.useState((function(t){return t.townEntries})),r=a[e],o=st.useState((function(t){return t.portugalEntries})),i=o.getAll(function(t){switch(t){case"Norte":return M.CONFIRMED_NORTH;case"Centro":return M.CONFIRMED_CENTER;case"Lisboa e Vale do Tejo":return M.CONFIRMED_LISBOA_TEJO;case"Alentejo":return M.CONFIRMED_ALENTEJO;case"Algarve":return M.CONFIRMED_ALGARVE;default:return""}}(n)),c=st.useState((function(t){return t.dateRange}));if(!r)return Object(G.jsx)(s.a,{});var u=r.getAll(M.TOWN_INCIDENCE_14),_=u.map((function(t){return t.x})),l=N(C(p(i),function(t){switch(t){case"Norte":return h;case"Centro":return j;case"Lisboa e Vale do Tejo":return O;case"Alentejo":return m;case"Algarve":return E;default:return 0}}(n)),_),d=N(o.getAll(M.INCIDENCE_PT),_),f=v(u),b=e;return Object(G.jsxs)("div",{children:[Object(G.jsx)(ee.a,{id:"town-name-autocomplete",options:Object.keys(a),value:e,renderInput:function(t){return Object(G.jsx)(at.a,Object(g.a)(Object(g.a)({},t),{},{label:"Cidade",variant:"outlined"}))},onChange:function(t,e){return e&&ut.update((function(t){t.currentTown=e}))}}),Et("Evolu\xe7\xe3o - ".concat(b),t,Object(G.jsx)(It,{dataArray:[u,l,d,f(120)],dateRange:c,labels:["Incid\xeancia - ".concat(b," (a 14 dias p/ 100k hab.)"),"Incid\xeancia - ".concat(n," (a 14 dias p/ 100k hab.)"),"Incid\xeancia - Portugal (a 14 dias p/ 100k hab.)","Risco elevado"],themes:[kt,zt,Ut,$t]}))]})},ae=function(){var t=ut.useState((function(t){return t.styles})),e=st.useState((function(t){return t.portugalEntries})),n=st.useState((function(t){return t.dateRange})),a=p(e.getAll(M.CONFIRMED_0_9)),r=p(e.getAll(M.CONFIRMED_10_19)),o=p(e.getAll(M.CONFIRMED_20_29)),i=p(e.getAll(M.CONFIRMED_30_39)),c=p(e.getAll(M.CONFIRMED_40_49)),s=p(e.getAll(M.CONFIRMED_50_59)),u=p(e.getAll(M.CONFIRMED_60_69)),_=I(p(e.getAll(M.CONFIRMED_70_79)),p(e.getAll(M.CONFIRMED_80_PLUS))),l=C(a,1007734),d=C(r,1129845),f=C(o,1238141),g=C(i,1598250),b=C(c,843392),h=C(s,1400011),j=C(u,1186442),O=C(_,1458363),m=p(e.getAll(M.DEAD_0_9)),E=p(e.getAll(M.DEAD_10_19)),v=p(e.getAll(M.DEAD_20_29)),D=p(e.getAll(M.DEAD_30_39)),A=p(e.getAll(M.DEAD_40_49)),N=p(e.getAll(M.DEAD_50_59)),x=p(e.getAll(M.DEAD_60_69)),R=I(p(e.getAll(M.DEAD_70_79)),p(e.getAll(M.DEAD_80_PLUS))),y=[Ft,Pt,Ht,Mt,Gt,Lt,Wt,Yt];return Et("Evolu\xe7\xe3o por idade",t,Object(G.jsx)(It,{dataArray:[a,r,o,i,c,s,u,_],dateRange:n,labels:["0-9","10-19","20-29","30-39","40-49","50-59","60-69","70+"].map((function(t){return"Casos novos nos ".concat(t," anos")})),themes:y}),Object(G.jsx)(It,{dataArray:[l,d,f,g,b,h,j,O],dateRange:n,labels:["0-9","10-19","20-29","30-39","40-49","50-59","60-69","70+"].map((function(t){return"Incid\xeancia nos ".concat(t," anos (p/ 100k pax na faixa)")})),themes:y}),Object(G.jsx)(It,{dataArray:[m,E,v,D,A,N,x,R],dateRange:n,labels:["0-9","10-19","20-29","30-39","40-49","50-59","60-69","70+"].map((function(t){return"Mortes nos ".concat(t," anos")})),themes:y}))},re=Object(c.a)((function(){return{root:{backgroundColor:"#f5f5f5",flexGrow:1,"align-items":"center","justify-content":"center",padding:15,paddingRight:30},chartContainer:{position:"relative",margin:"auto",height:"50vh",width:"90vw"},progress:{float:"none",margin:"0 auto"},appBar:{marginBottom:20,backgroundColor:"#e0e0e0"},formControl:{margin:10,minWidth:80}}}));var oe=function(){var t=re();ut.update((function(e){e.styles=t}));var e=Object(a.useState)(!0),n=Object(i.a)(e,2),r=n[0],o=n[1],c=Object(a.useState)(0),u=Object(i.a)(c,2),_=u[0],l=u[1],d=ut.useState((function(t){return t.currentTown})),f=st.useState((function(t){return t.portugalEntries})),g=st.useState((function(t){return t.townEntries[d]})),b="",h="",j=function(t){switch(t){case 0:return Object(G.jsxs)("div",{children:[Object(G.jsx)(Qt,{}),Object(G.jsx)("br",{}),Object(G.jsx)(ne,{}),Object(G.jsx)("br",{}),Object(G.jsx)(Xt,{})]});case 1:return Object(G.jsxs)("div",{children:[Object(G.jsx)(te,{}),Object(G.jsx)("br",{}),Object(G.jsx)(ae,{})]});case 2:return Object(G.jsx)(Dt,{});default:return Object(G.jsx)("p",{children:"Bug? \xaf\\_(\u30c4)_/\xaf"})}}(ut.useState((function(t){return t.tab}))),O=d[0]+d.slice(1).toLowerCase(),m=f.getAll(M.CONFIRMED_PT).length>0;return Object(a.useEffect)((function(){var t;t=function(t){return st.update((function(e){e.portugalEntries=t}))},B(new F("data.csv"),t,W),function(t){B(new S("vacinas.csv"),t,W)}((function(t){return st.update((function(e){e.vaccineEntries=t}))})),function(t,e){var n="data_concelhos_new.csv",a={},r={};B(new S(n),(function(t){return e(Object.fromEntries(Object.entries(a).map((function(t){var e=Object(i.a)(t,2);return[e[0],e[1].build()]}))),r)}),(function(t,e){var o=e[M.TOWN],i=e[M.REGION];a[o]||(a[o]=new S("".concat(n,":").concat(o)),r[o]=i),W(a[o],e)}))}(0,(function(t,e){return st.update((function(n){n.townRegionMap=e,n.townEntries=t}))}))}),[]),r||(b=null===g||void 0===g?void 0:g.getLast(M.TOWN_INCIDENCE_14).x,h=f.getLast(M.CONFIRMED_PT).x,_||l(Math.round(performance.now()))),r&&m&&o(!1),Object(G.jsx)("div",{className:t.root,children:r?Object(G.jsx)(s.a,{className:t.progress}):Object(G.jsxs)("div",{children:[Object(G.jsx)(_t,{}),Object(G.jsxs)(z,{children:["A \xfaltima atualiza\xe7\xe3o destes dados ocorreu nas seguintes datas: ","Portugal/Norte => ".concat(h,", ").concat(O," => ").concat(b||""),". Esta p\xe1gina carregou em ",_,"ms."]}),Object(G.jsx)("br",{}),j,Object(G.jsx)("br",{}),Object(G.jsx)(lt,{})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(G.jsx)(oe,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[279,1,2]]]);
//# sourceMappingURL=main.8acb4e4c.chunk.js.map